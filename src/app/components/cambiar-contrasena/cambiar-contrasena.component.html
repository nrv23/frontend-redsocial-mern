<app-nav></app-nav>

<main id="mainContainer" class="mt-10">
  <!-- Container START -->
  <div class="container">
    <div class="row">
      <!-- Sidenav START -->
      <div class="col-lg-3">
        <app-sidebar-usuario></app-sidebar-usuario>
        <!-- Advanced filter responsive toggler START -->
        <!-- Divider -->
        <div class="d-flex align-items-center mb-4 d-lg-none">
          <button
            class="border-0 bg-transparent"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasNavbar"
            aria-controls="offcanvasNavbar"
          >
            <i class="btn btn-primary fw-bold fa-solid fa-sliders"></i>
            <span class="h6 mb-0 fw-bold d-lg-none ms-2">Settings</span>
          </button>
        </div>
        <!-- Advanced filter responsive toggler END -->
      </div>
      <!-- Sidenav END <app-sidebar-usuario></app-sidebar-usuario> -->

      <!-- Main content START -->
      <div class="col-lg-6 vstack gap-4">
        <!-- Setting Tab content START -->
        <div class="tab-content py-0 mb-0">
          <!-- Account setting tab START -->
          <div class="card">
            <!-- Title START -->
            <div class="card-header border-0 pb-0">
              <h5 class="card-title">Cambiar Contraseña</h5>
              <p class="mb-0">
                See resolved goodness felicity shy civility domestic had but.
              </p>
            </div>
            <!-- Title START -->
            <div class="card-body">
              <app-alert class="mb-5" *ngIf="show"></app-alert>
              <!-- Settings START -->
              <form class="row g-3" (ngSubmit)="updatePassword($event)">
                <!-- Current password -->
                <div class="col-12">
                  <label class="form-label">Contraseña Actual</label>
                  <input
                    [(ngModel)]="changePassword.password"
                    name="password"
                    type="password"
                    class="form-control"
                    placeholder=""
                  />
                </div>
                <!-- New password -->
                <div class="col-12">
                  <label class="form-label">Nueva contraseña</label>
                  <!-- Input group -->
                  <div class="input-group">
                    <input
                      [(ngModel)]="changePassword.newpassword"
                      class="form-control fakepassword"
                      name="newpassword"
                      type="password"
                      id="psw-input"
                      placeholder="Nueva contraseña"
                    />
                    <span class="input-group-text p-0">
                      <i
                        class="
                          fakepasswordicon
                          fa-solid fa-eye-slash
                          cursor-pointer
                          p-2
                          w-40px
                        "
                      ></i>
                    </span>
                  </div>
                  <!-- Pswmeter -->
                  <div id="pswmeter" class="mt-2"></div>
                  <div id="pswmeter-message" class="rounded mt-1"></div>
                </div>
                <!-- Confirm password -->
                <div class="col-12">
                  <label class="form-label">Confirmar Contraseña</label>
                  <input
                    [(ngModel)]="changePassword.confirm_password"
                    name="confirm_password"
                    type="password"
                    class="form-control"
                    placeholder=""
                  />
                </div>

                <div
                  class="mb-3 input-group-lg mb-3 text-center"
                  *ngIf="msg_error"
                  [ngClass]="{ 'mb-5': !msg_error }"
                >
                  <span class="text-danger">
                    {{ msg_error }}
                  </span>
                </div>
                <!-- Button  -->
                <div class="col-12 text-end">
                  <button type="submit" class="btn btn-primary mb-0">
                    Guardar Cambios
                  </button>
                </div>
              </form>
              <!-- Settings END -->
            </div>
          </div>
          <!-- Close account tab END -->
        </div>
        <!-- Setting Tab content END -->
      </div>
    </div>
    <!-- Row END -->
  </div>
  <!-- Container END -->
</main>
